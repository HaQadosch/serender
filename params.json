{"name":"Serender","tagline":"Insanely fast server side rendering middleware for Express","body":"Serender\r\n========\r\n\r\nSerender is a tiny middleware for [Express](http://expressjs.com/) that takes care of rendering client-side apps on the server, making your content load first before your JavaScript code takes over.\r\n\r\n[![Package Version](https://img.shields.io/npm/v/serender.svg?style=flat-square)](https://www.npmjs.com/package/serender)\r\n[![Package Downloads](https://img.shields.io/npm/dt/serender.svg?style=flat-square)](https://www.npmjs.com/package/serender)\r\n[![Code Climate](https://img.shields.io/codeclimate/github/YoussefKababe/serender.svg?style=flat-square)](https://codeclimate.com/github/YoussefKababe/serender)\r\n[![Dependencies Status](https://img.shields.io/david/youssefkababe/serender.svg?style=flat-square)](https://david-dm.org/youssefkababe/serender)\r\n\r\nDemo screencast: http://youtu.be/ZvpjkA7q7pM\r\n\r\n### Installation\r\n\r\n```\r\n$ npm install serender --save\r\n```\r\n\r\n### Usage\r\n\r\nFront-end frameworks generally rely on the hashchange event in the browser, that's why you always have a ```#``` in the url. If you managed to get rid of it, then you've definitely defined some routes in your Express app so your users won't see a not found error when they refresh the page:\r\n\r\n```javascript\r\n// app.js\r\nvar express = require('express')\r\nvar serender = require('serender')\r\n\r\nvar app = express()\r\n\r\napp.set('port', process.env.PORT || 3000)\r\n\r\napp.get('/', serender, function(req, res) {\r\n  res.sendFile('index.html', { root: 'client/dist' })\r\n})\r\n\r\napp.get('/company', serender, function(req, res) {\r\n  res.sendFile('index.html', { root: 'client/dist' })\r\n})\r\n\r\napp.get('/work', serender, function(req, res) {\r\n  res.sendFile('index.html', { root: 'client/dist' })\r\n})\r\n\r\n// Server the cient-side app's static files (CSS, JS, Images...)\r\n// from the 'client/dist' folder\r\napp.use(express.static('client/dist'))\r\n\r\napp.listen(app.get('port'))\r\n```\r\n\r\nNotice how I'm using ```router.use(express.static('client/dist'))``` after the routes! This will server our static assets (CSS, JS, Images...) but we don't want our **index.html** page to be served with them.\r\n\r\n### Cookies\r\n\r\nSerender handles cookies very well! Your authenticated users will see the content they must see even if they disable JavaScript completely.\r\n\r\nThat's it! You can now focus on building you client-side app without being worried about any SEO issues, or clients with no JS!\r\n\r\n### How does it work?\r\n\r\nSerender uses [Zombie](http://zombie.js.org/) under the hood, which is a headless simulated browser for testing client side code.\r\n\r\nWhen you use it as the first middleware for your routes, Serender spins up a new Zombie (browser) instance for each new request, and makes it load the same exact page that the user is asking for. This might look like creating an infinit loop, but Serender adds a value to the browser headers making it skip itself and pass the new request to the next middleware.\r\n\r\nZombie then loads the page, fetches all the assets, and runs the JavaScript code wich will then take care of fetching data from you API and rendering the page.\r\n\r\nAs soon as Zombie finishes loading the page, Serender will take the final HTML output and send it back to the user.\r\n","google":"UA-36442752-7","note":"Don't delete this file! It's used internally to help with page regeneration."}